<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Homework 13: Graphs (Algorithms)</title>

	<!-- Bootstrap core CSS -->
	<link href="static/css/blugold.css" rel="stylesheet">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

	<style>
	body {
	    padding: 10px;
	}
	</style>
    </head>
    <body>
	<div class="container">

	    <div class="row">
		<div class="page-header">
		    <ul class="nav nav-pills pull-right">
			
			<li><a href="index.html"><i class="fa fa-sitemap"></i> <span class="visible-md-inline visible-lg-inline">Home</span></a></li>
			
		    </ul>
		    <h1><i class="fa fa-code"></i> Homework 13: Graphs (Algorithms)</h1>
		</div>
	    </div>

            
<p>The goal of this homework assignment is to allow you explore three different
<a href="https://en.wikipedia.org/wiki/Algorithm">algorithms</a> that work on <a href="https://en.wikipedia.org/wiki/Graph_(abstract_data_type)">graphs</a>: <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra's Algorithm</a>, <a href="https://en.wikipedia.org/wiki/Prim%27s_algorithm">Prim's Algorithm</a>,
<a href="https://en.wikipedia.org/wiki/Topological_sorting#Kahn's_algorithm">Kahn's Algorithm</a>.  You will need to implement each of these <a href="https://en.wikipedia.org/wiki/Algorithm">algorithms</a> to
solve <strong>three programming challenges</strong>, described below.</p>
<p>For this assignment, you are to do your work in the <code>homework13</code> folder of
your <strong>assignments</strong> <a href="https://github.com">GitHub</a> repository and push your work by <strong>noon,
Wednesday, December 6</strong>.</p>
<h2 id="activity-0-preparation">Activity 0: Preparation<a class="headerlink" href="#activity-0-preparation" title="Permanent link">&para;</a></h2>
<p>Before starting this homework assignment, you should first perform a <code>git
pull</code> to retrieve any changes in your remote <a href="https://github.com">GitHub</a> repository:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ <span style="color: #008000">cd</span> path/to/repository                   <span style="color: #3D7B7B; font-style: italic"># Go to assignments repository</span>

$ git switch master                       <span style="color: #3D7B7B; font-style: italic"># Make sure we are in master branch</span>

$ git pull --rebase                       <span style="color: #3D7B7B; font-style: italic"># Get any remote changes not present locally</span>
</code></pre></div>

<p>Next, create a new branch for this assignment:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ git checkout -b homework13              <span style="color: #3D7B7B; font-style: italic"># Create homework13 branch and check it out</span>
</code></pre></div>

<h3 id="task-1-skeleton-code">Task 1: Skeleton Code<a class="headerlink" href="#task-1-skeleton-code" title="Permanent link">&para;</a></h3>
<p>To help you get started, the instructor has provided you with the following <a href="https://www3.nd.edu/~pbui/teaching/cse.20312.fa23/static/tar/homework13.tar.gz">skeleton code</a>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Go to assignments repository</span>
$ <span style="color: #008000">cd</span> path/to/assignments/repository

<span style="color: #3D7B7B; font-style: italic"># -----------------------------------------------------</span>
<span style="color: #3D7B7B; font-style: italic"># MAKE SURE YOU ARE NOT INSIDE THE homework13 DIRECTORY</span>
<span style="color: #3D7B7B; font-style: italic"># -----------------------------------------------------</span>
<span style="color: #3D7B7B; font-style: italic"># MAKE SURE YOU ARE AT THE TOP-LEVEL DIRECTORY</span>
<span style="color: #3D7B7B; font-style: italic"># -----------------------------------------------------</span>

<span style="color: #3D7B7B; font-style: italic"># Download skeleton code tarball</span>
$ curl -LO https://www3.nd.edu/~pbui/teaching/cse.20312.fa23/static/tar/homework13.tar.gz

<span style="color: #3D7B7B; font-style: italic"># Extract skeleton code tarball</span>
$ tar xzvf homework13.tar.gz
</code></pre></div>

<p>Once downloaded and extracted, you should see the following files in your
<code>homework13</code> directory:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>homework13
    <span style="color: #AA5D1F; font-weight: bold">\_</span> Makefile         <span style="color: #3D7B7B; font-style: italic"># This is the Makefile for building all the assignment artifacts</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> flights.py       <span style="color: #3D7B7B; font-style: italic"># This is the Python module for the Flights programming challenge</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> passcode.py      <span style="color: #3D7B7B; font-style: italic"># This is the Python script for the Passcode programming challenge</span>
    <span style="color: #AA5D1F; font-weight: bold">\_</span> sim_city.py      <span style="color: #3D7B7B; font-style: italic"># This is the Python script for the Sim City programming challenge</span>
</code></pre></div>

<h3 id="task-2-initial-import">Task 2: Initial Import<a class="headerlink" href="#task-2-initial-import" title="Permanent link">&para;</a></h3>
<p>Now that the files are extracted into the <code>homework13</code> folder, you can
<strong>commit</strong> them to your <a href="https://git-scm.com/">git</a> repository:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Go into homework13 folder</span>
$ <span style="color: #008000">cd</span> homework13

<span style="color: #3D7B7B; font-style: italic"># Add and commit initial skeleton files</span>
$ git add Makefile                            <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git add *.py
$ git commit -m <span style="color: #BA2121">&quot;Homework 13: Initial Import&quot;</span> <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
</code></pre></div>

<h3 id="task-3-unit-tests">Task 3: Unit Tests<a class="headerlink" href="#task-3-unit-tests" title="Permanent link">&para;</a></h3>
<p>After downloading and extracting these files, you can run the <code>make</code> command
to run the tests.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run all tests (will trigger automatic download)</span>
$ make
</code></pre></div>

<p>You will notice that the <code>Makefile</code> downloads three additional test scripts:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>homework13
  <span style="color: #AA5D1F; font-weight: bold">\_</span> flights_test.py    <span style="color: #3D7B7B; font-style: italic"># This is the Python unit test for the Flights programming challenge</span>
  <span style="color: #AA5D1F; font-weight: bold">\_</span> passcode_test.py   <span style="color: #3D7B7B; font-style: italic"># This is the Python unit test for the Passcode programming challenge</span>
  <span style="color: #AA5D1F; font-weight: bold">\_</span> sim_city_test.py   <span style="color: #3D7B7B; font-style: italic"># This is the Python unit test for the Sim City programming challenge</span>
</code></pre></div>

<p>In addition to the embedded <a href="https://docs.python.org/3/library/doctest.html">doctests</a> in the <a href="https://www3.nd.edu/~pbui/teaching/cse.20312.fa23/static/tar/homework13.tar.gz">skeleton code</a>, you will be
using these <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a> to verify the correctness and behavior of your code.</p>
<div class="alert alert-info">
<h4 id="automatic-downloads"><i class="fa fa-download"></i> Automatic Downloads<a class="headerlink" href="#automatic-downloads" title="Permanent link">&para;</a></h4>
<p>The <code>test</code> scripts are automatically downloaded by the <code>Makefile</code>, so any
modifications you do to them will be lost when you run <code>make</code> again.
Likewise, because they are automatically downloaded, you do not need to <code>add</code>
or <code>commit</code> them to your <a href="https://git-scm.com/">git</a> repository.</p>
</div>
<p>The details on what you need to implement for this assignment are described
in the following sections.</p>
<h2 id="activity-1-flights-4-points">Activity 1: Flights (4 Points)<a class="headerlink" href="#activity-1-flights-4-points" title="Permanent link">&para;</a></h2>
<p>For the first activity, you are to use <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra's Algorithm</a> to solve the
following <strong>programming challenge</strong>:</p>
<blockquote>
<p>The semester is finally (almost) done and that means you get to go home!Â 
Unfortunately, air travel is a bit chaotic at the moment and <a href="https://www.anthonytravel.com/">Anthony Travel</a>
needs you to help them <strong>plan flights</strong> for students by determining the
<strong>flight plan</strong> with the <strong>lowest price</strong> from a <strong>origin</strong> city to a
<strong>destination</strong> city.</p>
</blockquote>
<div class="thumbnail text-center">
  <img src="static/img/homework13-flights.png" class="img-responsive">
</div>

<blockquote>
<p>That is, given a series of flights in the form of: <code>source</code>, <code>target</code>,
<code>price</code>, find the <strong>path</strong> with the lowest overall cost from the <strong>origin</strong>
to the <strong>destination</strong>.</p>
</blockquote>
<p>Here is an example of <code>flights.py</code> executing as a script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ./flights.py
<span style="color: #666666">0</span> <span style="color: #666666">2</span> <span style="color: #666666">3</span>
<span style="color: #666666">0</span> <span style="color: #666666">1</span> <span style="color: #666666">100</span>
<span style="color: #666666">1</span> <span style="color: #666666">2</span> <span style="color: #666666">50</span>
<span style="color: #666666">0</span> <span style="color: #666666">2</span> <span style="color: #666666">365</span>
Cost: <span style="color: #19177C">$150</span>, Plan: <span style="color: #666666">0</span> -&gt; <span style="color: #666666">1</span> -&gt; <span style="color: #666666">2</span>
</code></pre></div>

<h3 id="task-1-flightspy">Task 1: <code>flights.py</code><a class="headerlink" href="#task-1-flightspy" title="Permanent link">&para;</a></h3>
<p>The <code>flights.py</code> <a href="https://www.python.org/">Python</a> script contains the <strong>functions</strong> you are to
complete to solve this <strong>programming challenge</strong>:</p>
<ol>
<li>
<p><code>read_graph(stream=sys.stdin) -&gt; Optional[tuple[int, int, Graph]]</code></p>
<blockquote>
<p>This function reads an <strong>origin</strong>, a <strong>destination</strong>, and a set of
<strong>edges</strong> from the <code>stream</code>, creates a <code>Graph</code> based on the <strong>edges</strong>,
and returns the <strong>origin</strong>, <strong>destination</strong>, and  <code>Graph</code>.  If there is
no data in the <code>stream</code>, then <code>None</code> is returned.</p>
</blockquote>
<p><div class="alert alert-success" markdown="1">
<strong>Hint</strong>: Use a <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict">defaultdict</a> to make an <a href="https://en.wikipedia.org/wiki/Adjacency_list">adjacency list</a> from the <code>stream</code>.
</div></p>
</li>
<li>
<p><code>find_cheapest_flight_plan(origin: int, destination: int, graph: Graph) -&gt; tuple[int, Plan]</code></p>
<blockquote>
<p>This function uses <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra's algorithm</a> to find the flight plan with
the lowest overall cost from the <code>origin</code> to the <code>destination</code> and
returns the lowest cost and the <code>Plan</code> (ie. <strong>edges</strong> in the form of a
<a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a> where the <code>key</code> is the <code>target</code> and the <code>value</code> is the <code>source</code>).</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Use the <strong>frontier</strong> based traversal algorithm with a <a href="https://docs.python.org/3/library/heapq.html">heapq</a> to
  implement <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra's algorithm</a>.  Be sure to check if you have reached
  the <code>destination</code> and remove the <code>origin</code> <strong>self-edge</strong> from the <code>Plan</code>
  (ie. <code>visited</code> <a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>).</p>
</div>
</li>
<li>
<p><code>flight_plan(origin: int, destination: int, plan: Plan) -&gt; Iterator[int]</code></p>
<blockquote>
<p>This function <strong>recursively</strong> generates the vertices to visit from
<code>origin</code> to <code>destination</code> according to the specified <code>plan</code>.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Think carefully about the <strong>base case</strong> for <strong>recursively</strong>
  reconstructing the path from the <code>origin</code> to the <code>destination</code> and use
  <code>yield</code> or <code>yield from</code> appropriately.</p>
</div>
</li>
<li>
<p><code>main(stream=sys.stdin) -&gt; None</code></p>
<blockquote>
<p>This function reads an <strong>origin</strong>, a <strong>destination</strong>, and a set of
<strong>edges</strong> from the <code>stream</code>, creates a <code>Graph</code> based on the <strong>edges</strong>,
finds the cheapest flight <code>Plan</code> from the <strong>origin</strong> to the
<strong>destination</strong>, and then prints out the overall <strong>cost</strong> and <strong>path</strong>
used in the <code>Plan</code>.  This is repeated until the end of the <code>stream</code> is
reached.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Use the <a href="https://realpython.com/lessons/assignment-expressions/">walrus operator</a> with <code>read_graph</code> and the <a href="https://docs.python.org/3/library/stdtypes.html#str.join">str.join</a>
  method as appropriate.</p>
</div>
</li>
</ol>
<div class="alert alert-warning">
<h4 id="doctests"><i class="fa fa-warning"></i> DocTests<a class="headerlink" href="#doctests" title="Permanent link">&para;</a></h4>
<p>You may notice that in addition to the usual comments and <tt>TODOs</tt>, the
<a href="https://peps.python.org/pep-0257/">docstrings</a> of each method also contains a few <a href="https://docs.python.org/3/library/doctest.html">doctests</a>.</p>
<p>You are <strong>not</strong> to modify these <a href="https://docs.python.org/3/library/doctest.html">doctests</a> and must keep them in-place.  They
are used to verify the correctness of your code.</p>
<p>Your code goes <strong>below</strong> the <a href="https://peps.python.org/pep-0257/">docstrings</a>, where the <tt>TODO</tt> and
<tt>pass</tt> commands are (you may remove the <tt>pass</tt> once you
complete the method).</p>
</div>
<h3 id="task-2-testing">Task 2: Testing<a class="headerlink" href="#task-2-testing" title="Permanent link">&para;</a></h3>
<p>As you implement <code>flights.py</code>, you can use the provided <a href="https://docs.python.org/3/library/doctest.html">doctests</a> to verify the
correctness of your code:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run doctests</span>
$ python3 -m doctest flights.py -v
...
<span style="color: #666666">4</span> items passed all tests:
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> flights.find_cheapest_flight_plan
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> flights.flight_plan
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> flights.main
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> flights.read_graph
<span style="color: #666666">4</span> tests <span style="color: #008000; font-weight: bold">in</span> <span style="color: #666666">5</span> items.
<span style="color: #666666">4</span> passed and <span style="color: #666666">0</span> failed.
Test passed.
</code></pre></div>

<p>You can also use <code>make</code> to run both the <a href="https://docs.python.org/3/library/doctest.html">doctests</a> and the <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run unit tests (and doctests)</span>
$ make test-flights
Testing flights ...
test_00_doctest <span style="color: #666666">(</span>__main__.FlightsTests<span style="color: #666666">)</span> ... ok
test_01_mypy <span style="color: #666666">(</span>__main__.FlightsTests<span style="color: #666666">)</span> ... ok
test_02_read_graph <span style="color: #666666">(</span>__main__.FlightsTests<span style="color: #666666">)</span> ... ok
test_03_find_cheapest_flight_plan <span style="color: #666666">(</span>__main__.FlightsTests<span style="color: #666666">)</span> ... ok
test_04_flight_plan <span style="color: #666666">(</span>__main__.FlightsTests<span style="color: #666666">)</span> ... ok
test_05_main <span style="color: #666666">(</span>__main__.FlightsTests<span style="color: #666666">)</span> ... ok

   Score <span style="color: #666666">4</span>.00 / <span style="color: #666666">4</span>.00
  Status Success

----------------------------------------------------------------------
Ran <span style="color: #666666">6</span> tests <span style="color: #008000; font-weight: bold">in</span> <span style="color: #666666">0</span>.048s

OK
</code></pre></div>

<p>To just run the <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a>, you can do the following:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run unit tests</span>
$ ./flights_test.py -v
...
</code></pre></div>

<p>To run a specific <a href="https://en.wikipedia.org/wiki/Unit_testing">unit test</a>, you can specify the <strong>method name</strong>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run only mypy unit test</span>
$ ./flights_test.py -v FlightsTests.test_01_mypy
...
</code></pre></div>

<div class="alert alert-success">
<h4 id="iterative-development"><i class="fa fa-repeat"></i> Iterative Development<a class="headerlink" href="#iterative-development" title="Permanent link">&para;</a></h4>
<p>You should practice <a href="https://en.wikipedia.org/wiki/Iterative_and_incremental_development">iterative development</a>. That is, rather than writing a
bunch of code and then debugging it all at once, you should concentrate on
one function at a time and then test that <strong>one thing at a time</strong>. The provided
<a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a> allow you to check on the correctness of the individual functions
without implementing everything at once. Take advantage of this and build one
thing at a time.</p>
</div>
<h2 id="activity-2-sim-city-3-points">Activity 2: Sim City (3 Points)<a class="headerlink" href="#activity-2-sim-city-3-points" title="Permanent link">&para;</a></h2>
<p>For the second activity, you are to use <a href="https://en.wikipedia.org/wiki/Prim%27s_algorithm">Prim's Algorithm</a> to solve the
following <strong>programming challenge</strong>:</p>
<blockquote>
<p>Recalling your youth, you remember spending long hours playing <a href="https://www.ea.com/games/simcity">Sim City</a>.
In this game you had the privilege and honor of building a city to your exact
specifications and desires. You could build airports, sports stadiums,
schools, industrial factories, residential homes, and more. It was your job
to keep the citizens of your metropolis happy and prosperous.</p>
<p>Unfortunately, to pay for all of these construction projects, you had to
tax your people. Even in the virtual world, people hate taxes and want you to
spend their hard-earned income wisely. In particular, they would demand that
you build roads to connect every building, but in the most cost efficient
way.</p>
</blockquote>
<div class="thumbnail text-center">
  <img src="static/img/homework13-simcity.png" class="img-responsive">
</div>

<blockquote>
<p>Now that you have had some training in <a href="https://en.wikipedia.org/wiki/Graph_(abstract_data_type)">graph</a> algorithms, you can easily
tackle the problem of connecting every building in your city to every other
building using the <strong>minimum amount of road</strong>. Given the coordinates of the
buildings in a city, you are to connect them such that all buildings are
reachable by road, while minimizing the amount of pavement you must lay down
to make the connections.</p>
<p>For each set of building locations, output the <strong>minimum total amount of
road</strong> that must be constructed to connect all the buildings to <strong>two decimal
places</strong>.Â </p>
</blockquote>
<p>Here is an example of <code>sim_city.py</code> executing as a script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ./sim_city.py
<span style="color: #666666">3</span>
<span style="color: #666666">1</span>.0 <span style="color: #666666">1</span>.0
<span style="color: #666666">2</span>.0 <span style="color: #666666">2</span>.0
<span style="color: #666666">2</span>.0 <span style="color: #666666">4</span>.0
MST: <span style="color: #666666">3</span>.41
</code></pre></div>

<h3 id="task-1-sim_citypy">Task 1: <code>sim_city.py</code><a class="headerlink" href="#task-1-sim_citypy" title="Permanent link">&para;</a></h3>
<p>The <code>sim_city.py</code> <a href="https://www.python.org/">Python</a> script contains the <strong>functions</strong> you are to
complete to solve this <strong>programming challenge</strong>:</p>
<ol>
<li>
<p><code>read_points(stream=sys.stdin) -&gt; Points</code></p>
<blockquote>
<p>This function reads a series of <strong>points</strong> into a <a href="https://docs.python.org/3/library/stdtypes.html#list">list</a>, while given
each <strong>point</strong> an <strong>numeric identifier</strong> (ie. the first <strong>point</strong> is <code>0</code>,
the second <strong>point</strong> is <code>1</code>, etc.).</p>
</blockquote>
<p><div class="alert alert-success" markdown="1">
<strong>Hints</strong>: Make sure the coordinates are <a href="https://docs.python.org/3/library/functions.html#float">floats</a>.
</div></p>
</li>
<li>
<p><code>build_graph(points: Points) -&gt; Graph</code></p>
<blockquote>
<p>This function constructs a <code>Graph</code> (ie. <a href="https://en.wikipedia.org/wiki/Adjacency_list">adjacency list</a>) from the
series of <strong>points</strong> and returns it.  The <a href="https://en.wikipedia.org/wiki/Adjacency_list">adjacency list</a> uses the
<a href="https://en.wikipedia.org/wiki/Euclidean_distance">distance</a> between each <strong>point</strong> as the <strong>weight</strong> of the <strong>edge</strong>.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hints</strong>: Carefully handle self-edges, and use <a href="https://docs.python.org/3/library/math.html#math.dist">math.dist</a> to compute
  the distance between two <strong>points</strong>.</p>
</div>
</li>
<li>
<p><code>construct_mst(graph) -&gt; Edges</code></p>
<blockquote>
<p>This function uses <a href="https://en.wikipedia.org/wiki/Prim%27s_algorithm">Prim's algorithm</a> to construct a <strong>minimum spanning
tree</strong> that connects all the points in the <code>Graph</code> with the minimum
amount of pavement and returns the <code>Edges</code> in the resulting <a href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">MST</a>.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Use the <strong>frontier</strong> based traversal algorithm with a <a href="https://docs.python.org/3/library/heapq.html">heapq</a> to
  implement <a href="https://en.wikipedia.org/wiki/Prim%27s_algorithm">Prim's algorithm</a>.  Be sure to check if you have reached the
  <code>destination</code> and remove the <code>origin</code> <strong>self-edge</strong> from the <code>Edges</code>
  (ie. <code>visited</code> <a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>).</p>
</div>
</li>
<li>
<p><code>main(stream=sys.stdin) -&gt; None</code></p>
<blockquote>
<p>This function reads in a set of <strong>points</strong> from the <code>stream</code>,
constructs a <code>Graph</code>, computes the <a href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">MST</a> of the <code>Graph</code>, and then prints
out the total cost of the <strong>edges</strong> in the resulting <a href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">MST</a>. This is
repeated until the end of the <code>stream</code> is reached.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Use the <a href="https://realpython.com/lessons/assignment-expressions/">walrus operator</a> with <code>read_points</code> and the <a href="https://docs.python.org/3/library/functions.html#sum">sum</a>
  function on the resulting <code>Edges</code> from <code>construct_mst</code>.</p>
</div>
</li>
</ol>
<h3 id="task-2-testing_1">Task 2: Testing<a class="headerlink" href="#task-2-testing_1" title="Permanent link">&para;</a></h3>
<p>As you implement <code>sim_city.py</code>, you can use the provided <a href="https://docs.python.org/3/library/doctest.html">doctests</a> to verify
the correctness of your code:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run doctests</span>
$ python3 -m doctest sim_city.py -v
...
<span style="color: #666666">4</span> items passed all tests:
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> sim_city.build_graph
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> sim_city.construct_mst
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> sim_city.main
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> sim_city.read_points
<span style="color: #666666">4</span> tests <span style="color: #008000; font-weight: bold">in</span> <span style="color: #666666">5</span> items.
<span style="color: #666666">4</span> passed and <span style="color: #666666">0</span> failed.
Test passed.
</code></pre></div>

<p>You can also use <code>make</code> to run both the <a href="https://docs.python.org/3/library/doctest.html">doctests</a> and the <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run unit tests (and doctests)</span>
$ make test-sim-city
Testing sim_city ...
test_00_doctest <span style="color: #666666">(</span>__main__.SimCityTests<span style="color: #666666">)</span> ... ok
test_01_mypy <span style="color: #666666">(</span>__main__.SimCityTests<span style="color: #666666">)</span> ... ok
test_02_read_points <span style="color: #666666">(</span>__main__.SimCityTests<span style="color: #666666">)</span> ... ok
test_03_build_graph <span style="color: #666666">(</span>__main__.SimCityTests<span style="color: #666666">)</span> ... ok
test_04_construct_mst <span style="color: #666666">(</span>__main__.SimCityTests<span style="color: #666666">)</span> ... ok
test_05_main <span style="color: #666666">(</span>__main__.SimCityTests<span style="color: #666666">)</span> ... ok

   Score <span style="color: #666666">3</span>.00 / <span style="color: #666666">3</span>.00
  Status Success

----------------------------------------------------------------------
Ran <span style="color: #666666">6</span> tests <span style="color: #008000; font-weight: bold">in</span> <span style="color: #666666">0</span>.048s

OK
</code></pre></div>

<p>To just run the <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a>, you can do the following:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run unit tests</span>
$ ./sim_city_test.py -v
...
</code></pre></div>

<p>To run a specific <a href="https://en.wikipedia.org/wiki/Unit_testing">unit test</a>, you can specify the <strong>method name</strong>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run only mypy unit test</span>
$ ./sim_city_test.py -v SimCityTests.test_01_mypy
...
</code></pre></div>

<h2 id="activity-3-passcode-3-points">Activity 3: Passcode (3 Points)<a class="headerlink" href="#activity-3-passcode-3-points" title="Permanent link">&para;</a></h2>
<p>For the third activity, you are to use <a href="https://en.wikipedia.org/wiki/Topological_sorting#Kahn's_algorithm">Kahn's Algorithm</a> to solve the
following <strong>programming challenge</strong>:</p>
<blockquote>
<p>Like most high security research facilities, many of the rooms in the
Cushing and Fitzpatrick require a secret number code to enter. Usually, a
single passcode is given to all the users of a particular room.
Unfortunately, in this day and age of camera phones and drones, it is easy
for intruders to snoop on people entering in the <strong>passcode</strong>.</p>
<p>In an effort to thwart passcode snoopers, the building security team has
implemented a new passcode mechanism: instead of entering the whole passcode,
the user must enter in three random numbers from the original door code.
For instance, if the passcode was <strong>2468135</strong>, the user may be asked to
enter in the <strong>2nd</strong>, <strong>4th</strong>, and <strong>5th</strong> numbers: <strong>481</strong>. This shorter
sequence (<strong>2nd</strong>, <strong>4th</strong>, <strong>5th</strong>) changes each time, so just watching
someone enter in the door code will not guarantee entry to the snooper.
Moreover, it helps prevent divulging the complete passcode.</p>
</blockquote>
<div class="thumbnail text-center">
  <img src="static/img/homework13-passcode.png" class="img-responsive">
</div>

<blockquote>
<p>Being the <strong>black hat</strong> that you are, however, you decide that this
security arrangement is weak and plan on cracking the code to the
instructor's office.  To do so, you have carefully monitored a series of
successful entries and recorded them in a text file. Knowing that the three
random numbers are always asked for in order and that the digits in the
passcode are unique (due to limitations to the security software), your next
step is to analyze these entries and produce the original passcode.</p>
</blockquote>
<p>Here is an example of <code>passcode.py</code> executing as a script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ./passcode.py
<span style="color: #666666">352</span>
<span style="color: #666666">154</span>
<span style="color: #666666">542</span>
<span style="color: #666666">315</span>
<span style="color: #666666">152</span>
<span style="color: #666666">31542</span>
</code></pre></div>

<h3 id="task-1-passcodepy">Task 1: <code>passcode.py</code><a class="headerlink" href="#task-1-passcodepy" title="Permanent link">&para;</a></h3>
<p>The <code>passcode.py</code> <a href="https://www.python.org/">Python</a> script contains the <strong>functions</strong> you are to
complete to solve this <strong>programming challenge</strong>:</p>
<ol>
<li>
<p><code>read_graph(stream=sys.stdin) -&gt; Graph</code></p>
<blockquote>
<p>This function reads the short passcode samples from the <code>stream</code>,
constructs an <a href="https://en.wikipedia.org/wiki/Adjacency_list">adjacency set</a>, and returns it.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Draw a picture of the <strong>relationship</strong> between each digit in
the short passcode samples.</p>
</div>
</li>
<li>
<p><code>compute_degrees(graph: Graph) -&gt; Degrees</code></p>
<blockquote>
<p>This function computes the <strong>incoming degree</strong> of each <strong>vertex</strong> in
the <code>Graph</code> and returns a <a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a> with the <strong>degrees</strong>.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Use a <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict">defaultdict</a> to store the <strong>degrees</strong>.</p>
</div>
</li>
<li>
<p><code>find_passcode(graph: Graph) -&gt; list[int]</code></p>
<blockquote>
<p>This function uses <a href="https://en.wikipedia.org/wiki/Topological_sorting#Kahn's_algorithm">Kahn's algorithm</a> to perform a <a href="https://en.wikipedia.org/wiki/Topological_sorting">topological sort</a>
of the <code>Graph</code> and returns <a href="https://docs.python.org/3/library/stdtypes.html#list">list</a> of the <strong>vertices</strong> visited.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Use the <strong>frontier</strong> based traversal algorithm with a <a href="https://docs.python.org/3/library/collections.html#collections.deque">deque</a>
  to implement <a href="https://en.wikipedia.org/wiki/Topological_sorting#Kahn's_algorithm">Kahn's algorithm</a>.</p>
</div>
</li>
<li>
<p><code>main(stream=sys.stdin) -&gt; None</code></p>
<blockquote>
<p>This function reads in short passcode samples, finds the original
passcode, and prints it out.</p>
</blockquote>
<div class="alert alert-success" markdown="1">
<p><strong>Hint</strong>: Use the <a href="https://docs.python.org/3/library/stdtypes.html#str.join">str.join</a> appropriately.</p>
</div>
</li>
</ol>
<h3 id="task-2-testing_2">Task 2: Testing<a class="headerlink" href="#task-2-testing_2" title="Permanent link">&para;</a></h3>
<p>As you implement <code>passcode.py</code>, you can use the provided <a href="https://docs.python.org/3/library/doctest.html">doctests</a> to verify
the correctness of your code:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run doctests</span>
$ python3 -m doctest passcode.py -v
...
<span style="color: #666666">4</span> items passed all tests:
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> passcode.compute_degrees
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> passcode.find_passcode
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> passcode.main
   <span style="color: #666666">1</span> tests <span style="color: #008000; font-weight: bold">in</span> passcode.read_graph
<span style="color: #666666">4</span> tests <span style="color: #008000; font-weight: bold">in</span> <span style="color: #666666">5</span> items.
<span style="color: #666666">4</span> passed and <span style="color: #666666">0</span> failed.
Test passed.
</code></pre></div>

<p>You can also use <code>make</code> to run both the <a href="https://docs.python.org/3/library/doctest.html">doctests</a> and the <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run unit tests (and doctests)</span>
$ make test-passcode
Testing passcode ...
test_00_doctest <span style="color: #666666">(</span>__main__.PasscodeTests<span style="color: #666666">)</span> ... ok
test_01_mypy <span style="color: #666666">(</span>__main__.PasscodeTests<span style="color: #666666">)</span> ... ok
test_02_read_graph <span style="color: #666666">(</span>__main__.PasscodeTests<span style="color: #666666">)</span> ... ok
test_03_compute_degrees <span style="color: #666666">(</span>__main__.PasscodeTests<span style="color: #666666">)</span> ... ok
test_04_find_passcode <span style="color: #666666">(</span>__main__.PasscodeTests<span style="color: #666666">)</span> ... ok
test_05_main <span style="color: #666666">(</span>__main__.PasscodeTests<span style="color: #666666">)</span> ... ok

   Score <span style="color: #666666">3</span>.00 / <span style="color: #666666">3</span>.00
  Status Success

----------------------------------------------------------------------
Ran <span style="color: #666666">6</span> tests <span style="color: #008000; font-weight: bold">in</span> <span style="color: #666666">0</span>.045s

OK
</code></pre></div>

<p>To just run the <a href="https://en.wikipedia.org/wiki/Unit_testing">unit tests</a>, you can do the following:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run unit tests</span>
$ ./passcode_test.py -v
...
</code></pre></div>

<p>To run a specific <a href="https://en.wikipedia.org/wiki/Unit_testing">unit test</a>, you can specify the <strong>method name</strong>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Run only mypy unit test</span>
$ ./passcode_test.py -v PasscodeTests.test_01_mypy
...
</code></pre></div>

<h2 id="activity-4-quiz-2-points">Activity 4: Quiz (2 Points)<a class="headerlink" href="#activity-4-quiz-2-points" title="Permanent link">&para;</a></h2>
<p>Once you have completed all the activities above, you are to complete the
following <strong>reflection quiz</strong>:</p>
<div id="quiz-questions"></div>

<div id="quiz-responses"></div>

<script src="static/js/dredd-quiz.js"></script>
<script>
loadQuiz('static/json/homework13.json');
</script>

<pre style="display: none;" id="dr-container" class="codehilite"><code id="dredd-response"></code></pre>

<p>As with <a href="reading01.html">Reading 01</a>, you will need to store your answers in a
<code>homework13/answers.json</code> file.  You can use the form above to generate the
contents of this file, or you can write the <a href="https://json.org/">JSON</a> by hand.</p>
<p>To check your quiz directly, you can use the <code>check.py</code> script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ../.scripts/check.py
Checking homework13 quiz ...
      Q1 <span style="color: #666666">0</span>.40
      Q2 <span style="color: #666666">0</span>.40
      Q3 <span style="color: #666666">0</span>.40
      Q4 <span style="color: #666666">0</span>.20
      Q5 <span style="color: #666666">0</span>.40
      Q6 <span style="color: #666666">0</span>.20
   Score <span style="color: #666666">2</span>.00 / <span style="color: #666666">2</span>.00
  Status Success
</code></pre></div>

<h2 id="leet-point-1-extra-credit-point">Leet Point (1 Extra Credit Point)<a class="headerlink" href="#leet-point-1-extra-credit-point" title="Permanent link">&para;</a></h2>
<p>For <strong>extra credit</strong>, you are to solve the following <a href="https://leetcode.com/">LeetCode</a> problem in
<a href="https://www.python.org/">Python</a>.</p>
<blockquote>
<p><a href="https://leetcode.com/problems/all-paths-from-source-to-target">797. All Paths From Source to Target</a></p>
</blockquote>
<p>To receive credit, you must pass on <a href="https://leetcode.com/">LeetCode</a> and achieve an <strong>Accepted</strong>
submission.</p>
<div class="alert alert-info">
<h4 id="verification"><i class="fa fa-check"></i> Verification<a class="headerlink" href="#verification" title="Permanent link">&para;</a></h4>
<p>To get credit for this Leet Point, show your solution and the <a href="https://leetcode.com/">LeetCode</a>
acceptance page to a TA to verify (or attached a screenshot with both to your
<strong>Pull Request</strong>).  You have up until <strong>two days after</strong> this assignment is
due to verify your Leet Point.</p>
</div>
<div class="alert alert-success">
<h4 id="self-service-extension"><i class="fa fa-calendar"></i> Self-Service Extension<a class="headerlink" href="#self-service-extension" title="Permanent link">&para;</a></h4>
<p>Remember that you can always <strong>forgo</strong> this Leet Point for <strong>two extra days</strong>
to do the homework.  That is, if you need an extension, you can simply skip
the Leet Point and you will automatically have until Friday to complete the
assignment for full credit.</p>
<p>Just leave a note on your <strong>Pull Request</strong> of your intentions.</p>
</div>
<h2 id="submission">Submission<a class="headerlink" href="#submission" title="Permanent link">&para;</a></h2>
<p>To submit your assignment, please commit your work to the <code>homework13</code> folder
of your <code>homework13</code> branch in your <strong>assignments</strong> <a href="https://github.com">GitHub</a> repository:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic">#-----------------------------------------------------------------------</span>
<span style="color: #3D7B7B; font-style: italic"># Make sure you have already completed Activity 0: Preparation</span>
<span style="color: #3D7B7B; font-style: italic">#-----------------------------------------------------------------------</span>
...
$ git add flights.py                          <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;Homework 13: Activity 1&quot;</span>     <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ git add sim_city.py                         <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;Homework 13: Activity 2&quot;</span>     <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ git add passcode.py                         <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;Homework 13: Activity 3&quot;</span>     <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ git add answers.json                        <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;Homework 13: Activity 4&quot;</span>     <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...

$ git push -u origin homework13               <span style="color: #3D7B7B; font-style: italic"># Push branch to GitHub</span>
</code></pre></div>

<div class="alert alert-danger">
<h4 id="pull-request"><i class="fa fa-github"></i> Pull Request<a class="headerlink" href="#pull-request" title="Permanent link">&para;</a></h4>
<p>Remember to create a <a href="https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request">Pull Request</a> and assign the appropriate TA from the
<a href="reading13_tas.html">Reading 13 TA List</a>.</p>
<p><strong>DO NOT MERGE</strong> your own <a href="https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request">Pull Request</a>.  The TAs use open <a href="https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request">Pull Request</a>s
to keep track of which assignments to grade.  Closing them yourself will
cause a delay in grading and confuse the TAs.</p>
</div>


	    <div class="row">
		<hr/>

		<footer class="text-center">
		    <p class="text-muted">
		    <small>
		    Built using
		    <a href="https://getbootstrap.com/">Bootstrap</a>,
		    <a href="https://fontawesome.com/">Font Awesome</a>, and
		    <a href="http://www.python.org/">Python</a>.
		    <br/>
		    &copy; 2023 <a href="http://www.nd.edu">University of Notre Dame</a>
		    </small>
		    </p>
		</footer>
	    </div>

	</div> <!-- /container -->

	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	
    </body>
</html>

